+++
title = "PPAP は「暗号」ではない"
date =  "2020-11-26T19:15:06+09:00"
description = "description"
image = "/images/attention/kitten.jpg"
tags = [ "remark" ]
pageType = "text"
draft = true

[scripts]
  mathjax = false
  mermaidjs = false
+++

こうなると PPAP という言葉自体が失敗だったとしか思えない。
「タバコ部屋の親父ギャグ」程度で止めておけばよかったのにねぇ。

元祖 PPAP の人には，こんなことになってお気の毒としか言いようがない（ご本人はネタになって喜んでいるかもしれないがw）

閑話休題

- [パスワード付きZIPのない世界でどう過ごすのか？](https://zenn.dev/koduki/articles/6ea117f7fa0616a50999)

> 「パスワードを電話で伝える」と言う点を揶揄するコメントもありますが超面倒だけどセキュリティ的には間違ってはないです


とか

> 普通に添付してもTLS/SSLで暗号化されているので過度に恐れる必要はないです

とか。
いや，もう，マジで言っているのだろうか。

経路の暗号化とデータの暗号化の要件が異なる話は以前に書いたので，今回はデータの暗号化に絞って話を書いてみる，

- [経路の暗号化とデータの暗号化では要件が異なる](https://text.baldanders.info/remark/2020/07/requirement-for-encryption/)

## PPAP は「暗号」ではない

そもそもの話だが「パスワードロックされたファイルをパスワードとともに送る」というのは暗号の体を成していない。
復号の手段が（鍵も含めて）あらかじめ周知されているのなら，たとえどんな暗号アルゴリズムを使っていようが，それはただの「符号化」である。
何故ならその情報は秘匿されていないのだから。
秘匿されていない（もしくはする気のない）情報をどのようにこねくり回したところで，それは暗号にはならない。

暗号技術以前の問題。

## 交換データの暗号化に「パスワード」を使うべきではない

認証で用いるパスワードと暗号化用の鍵として用いるパスワードには決定的な違いがある。

それは「パスワードの解読はデータに対していくらでもいつまでも試せる」ということ。
リソースへのアクセスを監視されることもないし，ロックアウトの心配もない。
心ゆくまで解読に勤しむことができる（笑）

だから暗号化アルゴリズムがどれだけ優れていようと，暗号鍵として「パスワード」を用いている時点で，それがセキュリティ最弱点になってしまうのだ。

ちなみに IPA が2013年に公開した資料によるとパスワードを力づくで解読する際のコストを以下のように試算している。

<!-- IPA の資料を貼る -->

これには辞書攻撃などのもっと効率的な攻撃手段は含まれていない。
それに計算リソースを更に潤沢に使える今ならもっと低いコストで解読可能だろう。

ファイルを送るためパスワードロックするたびに「実用的なパスワード」を毎回生成し，別チャネルで通知する。
データ／ファイルのパスワードロックが全部ダメとは言わないが，こんなワークフローを本当に支障なく運用できるものなのか。
ネタではなく真面目にじっくり考えてみてほしい。

## パスワードの音声通知はセキュリティ強度を弱める

以前に [NIST SP 800-63-3 について少し紹介した](https://text.baldanders.info/remark/2020/09/authenticator-and-aal/ "Authenticator と AAL")が，この中で「電子メールや VoIP は『経路外デバイス』として認められない」と書いた。
SMS がかろうじて Restricted Authenticator として踏みとどまったのとは対象的である（他には格子型の乱数表も NG）。

最近の Phishing 事例で電子メールを使って「パスワードロックされたファイルをパスワードとともに送る」という攻略法が[登場](https://text.baldanders.info/remark/2020/09/recently-security-incidents/#return-emotet "帰ってきた Emotet")したのが今回の騒ぎのきっかけだが，電子メールがダメなら音声通知もダメである。

そもそも（ちょっと考えれば分かることだが）電話口で毎回異なる「実用的なパスワード」を聞き間違いすることもなく聞かせられると思っているのだろうか。

私たちに「それ」ができるのなら，犯罪者にだってできるのである。
むしろ「音声通知」に安心して，それが「釣り」だと気づかないかもね（笑）

## こういう記事を書くと...

「じゃあ，暗号鍵をメールに添付して送ればいいぢゃん」とか言う馬鹿が絶対に出てくるので，少し前に Zenn で書いた以下の記事を紹介しておく。

- [公開鍵暗号の秘密鍵は絶対に渡してはならない（フリじゃないよ）](https://zenn.dev/spiegel/articles/20200925-pubkey-and-seckey)

実効性のないワークフローで行動を縛るのは厭わないのに，明らかにセキュリティ・リスクになりうる事案についてはトレードオフがどうのとか言い訳して利便性を優先するとか...

## ブックマーク

- [経路の暗号化とデータの暗号化では要件が異なる](https://text.baldanders.info/remark/2020/07/requirement-for-encryption/)
- [Steven Levy 原著『暗号化』のデジタル化を希望する！](https://text.baldanders.info/remark/2020/10/crypto-by-steven-levy/)
